!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).tableSortjs={})}(this,(function(t){"use strict";function e(t,e,n){if("string"!=typeof t)return t;let r=document;return null===e&&n?r=n:e&&e instanceof Node&&"querySelector"in e?r=e:n&&n instanceof Node&&"querySelector"in n&&(r=n),"all"===e?r.querySelectorAll(t):r.querySelector(t)}let n=function(t,e){return(t=t.trim().toLowerCase())===(e=e.trim().toLowerCase())?0:t<e?1:-1},r=function(t,e){return function(n,r){let o=t(n.td,r.td);return 0===o?e?r.index-n.index:n.index-r.index:o}};class o{static version="1.0.0";static instance=[];table;thead;options;current;col;constructor(t,n={}){if("string"==typeof t&&e(t),!(t instanceof HTMLTableElement))throw new Error("Element must be a table");this.table=t,this.thead=!1,this.options=n,this.init(t,n,o.instance.length),o.instance.push(this),1===o.instance.length&&function(t,e=!1){e?console.log("Data Type : "+typeof t,"\nValue : "+t):console.log(t)}("TableSort is loaded, version:"+o.version)}init(t,n,r){let o=null,i=null,l=this;if(t.rows.length>0&&(t.tHead&&t.tHead.rows.length>0?(o=t.tHead.rows[t.tHead.rows.length-1],l.thead=!0):o=t.rows[0]),!o)return;let s=function(){l.current&&l.current!==this&&l.current.removeAttribute("aria-sort"),l.current=this,l.sortTable(this)};o=e(".table-sort","all",o),o instanceof NodeList&&o.forEach((t=>{t.setAttribute("role","columnheader"),"none"!==t.getAttribute("data-sort-method")&&(t.tabIndex=0,t.addEventListener("click",s,!1),null!==t.getAttribute("data-sort-default")&&(i=t))})),i&&(l.current=i,l.sortTable(i))}sortTable(t,o){let i=t.cellIndex,l=n,s=t.getAttribute("aria-sort")||"";o||(s="ascending"===s?"descending":"ascending",t.setAttribute("aria-sort",s));let a=e(".table-body .table-row:not(.no-sort)","all",this.table);if(a.length<2)return;let d=e(".table-body","all",this.table);for(let t=0;t<d.length;t++){let n=[],o=0;a=e(".table-row:not(.no-sort)","all",d[t]);for(let t=0;t<a.length;t++){let e=a[t].children[i];n.push({tr:a[t],td:e?(c=e,c.getAttribute("data-sort")||c.textContent||c.innerText||""):"",index:o}),o++}n.sort(r(l,"descending"===s)),n.forEach((e=>d[t].appendChild(e.tr)))}var c}refresh(){void 0!==this.current&&this.sortTable(this.current,!0)}}t.TableSort=o}));
