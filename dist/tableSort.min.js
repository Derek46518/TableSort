!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).tableSortjs={})}(this,(function(t){"use strict";function e(t,e,n){if("string"!=typeof t)return t;let r=document;return null===e&&n?r=n:e&&e instanceof Node&&"querySelector"in e?r=e:n&&n instanceof Node&&"querySelector"in n&&(r=n),"all"===e?r.querySelectorAll(t):r.querySelector(t)}let n=function(t,e){return function(n,r){let o=t(n.td,r.td);return 0===o?e?r.index-n.index:n.index-r.index:o}};class r{static version="1.0.0";static instance=[];table;thead;options;current;col;constructor(t,n={}){if("string"==typeof t&&e(t),!(t instanceof HTMLTableElement))throw new Error("Element must be a table");this.table=t,this.thead=!1,this.options=n,this.init(t,n,r.instance.length),r.instance.push(this),1===r.instance.length&&function(t,e=!1){e?console.log("Data Type : "+typeof t,"\nValue : "+t):console.log(t)}("TableSort is loaded, version:"+r.version)}init(t,n,r){let o=null,i=null,l=this;if(t.rows.length>0&&(t.tHead&&t.tHead.rows.length>0?(o=t.tHead.rows[t.tHead.rows.length-1],l.thead=!0):o=t.rows[0]),!o)return;let s=function(){l.current&&l.current!==this&&l.current.removeAttribute("aria-sort"),l.current=this,l.sortTable(this)};o=e(".table-sort","all",o),o instanceof NodeList&&o.forEach((t=>{t.setAttribute("role","columnheader"),"none"!==t.getAttribute("data-sort-method")&&(t.tabIndex=0,t.addEventListener("click",s,!1),null!==t.getAttribute("data-sort-default")&&(i=t))})),i&&(l.current=i,l.sortTable(i))}sortTable(t,r){let o=t.cellIndex,i=t.getAttribute("aria-sort");r||(i="ascending"===i?"descending":"ascending",t.setAttribute("aria-sort",i));let l="ascending"===i,s=(t,e)=>function(t,e,n=!0){return(t=t.trim().toLowerCase())===(e=e.trim().toLowerCase())?0:n?t<e?-1:1:t<e?1:-1}(t,e,l),a=e(".table-body .table-row:not(.no-sort)","all",this.table);if(a.length<2)return;let d=e(".table-body","all",this.table);for(let t=0;t<d.length;t++){let r=[],l=0;a=e(".table-row:not(.no-sort)","all",d[t]);for(let t=0;t<a.length;t++){let e=a[t].children[o];r.push({tr:a[t],td:e?(c=e,c.getAttribute("data-sort")||c.textContent||c.innerText||""):"",index:l}),l++}r.sort(n(s,"descending"===i)),r.forEach((e=>d[t].appendChild(e.tr)))}var c}refresh(){void 0!==this.current&&this.sortTable(this.current,!0)}}t.TableSort=r}));
